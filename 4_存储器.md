# 第4章 存储器

#### 4.1 解释概念

主存：主存储器，用于存放正在执行的程序和数据。CPU可以直接进行随机读写，访问速度较高。

辅存：辅助存储器，用于存放当前暂不执行的程序和数据，以及一些需要永久保存的信息。

Cache：高速缓冲器，介于CPU和主存之间，用于解决CPU和主存之间速度不匹配的问题。

RAM:random access memory, 半导体存取随机存储器

SRAM:静态半导体随机存储器

DARM:动态半导体随机存续器

ROM:掩膜式半导体只读存储器

PROM:可编程只读存储器，由用户根据需要确定写入内容，只能写入一次

EPROM:可擦除可编程只读存储器。允许用户写入信息，之后用某种方法擦除数据，可进行多次重写。

EEPROM:电擦写可编程只读存储器

CDROM:只读型光盘

FLASH Memory:快擦型存储器

#### 4.2 计算机中哪些部件可用于存储信息，按其速度、容量和价格/位排序说明。

寄存器、Cache、主存、硬盘可以存储信息。

速度：寄存器、Cache、主存、硬盘；

容量同上：

价格同上：

#### 4.3 对存储器的层次结构主要体现在什么地方，为什么要分这些层次，计算机如何管理这些层次？

主要体现在Cache-主存和主存-辅存这两个层次上。

Cache-主存层次在存储系统中主要对CPU访存起加速作用，即从整体运行的效果分析，CPU访存速度加快，接近于Cache的速度，而寻址空间和价位却接近于主存。

主存-辅存层次主要起到扩存作用，从程序员角度看，所使用的存储器其容量和价位接近辅存，速度接近主存。

主存-Cache之间的信息调度功能全部由硬件自动完成。主存-辅存层次的调度目前广泛采用虚拟存储计数实现，即将主存和辅存的一部分通过软硬结合的技术组成虚拟存储器。

#### 4.4 说明存取周期和存取时间的区别

存取时间仅为完成一次操作的时间

存取周期包含操作时间，也包含操作后线路的恢复时间。

#### 4.5 什么是存储器的带宽？若存储器的数据总线宽度为32位，存取周期为200ns,则存储器的带宽为多少？

存储器的带宽指单位时间内从 存储器进出信息的最大数量。

存储器带宽 = 1/200ns X 32位 = 160M位/秒 = 20MB/秒 = 5M字/秒



总线一般被设计来传输固定大小的一块数据，这块数据被称为字 （word），找个参数在不同的系统中是不同的，大多数现代计算机系统里面，一个字要么是4个字节（32位），要么是8个字节（64位）。



#### 4.6 机器字长为32位，存储容量为64KB，按字变址其寻址范围为多少？若主存以字节编址，试画出主存地址和字节地址的分配情况。

存储容量为64KB，其按字节编址的寻址范围就是64K.

如按字编址，其寻址范围为：64KB/32位=（64x1024x8）/32 = 16x1024=16k

画图 略

#### 4.7 一个容量为16K x 32位的存储器，其地址线和数据线的总和是多少？当选用下列不同规格的存储芯片时，各需要多少片？1K x 4 位，2K x 8 位，4K x 4 位，16K x 1 位，4K x 8 位，8K x 8 位。

地址线和数据线的总和 = 14 + 32 = 46根

按照 16K x 32 / 单片存储容量 得到片数。

#### 4.8 试比较静态RAM和动态RAM

| 特性       | SRAM                                                   | DRAM                                                         |
| :--------- | ------------------------------------------------------ | ------------------------------------------------------------ |
| 存储信息   | 靠双稳态触发器记忆信息                                 | 靠MOS电路中的栅极电容来记忆信息                              |
| 破坏性读出 | 非                                                     | 是                                                           |
| 需要刷新   | 在不断电的情况下其中的信息保持不变，因此不比定期刷新。 | 由于电容上的电荷会泄露，需要定时补给，所以动态RAM需要设置刷新电路。 |
| 运行速度   | 快                                                     | 慢                                                           |
| 集成度     | 低                                                     | 高                                                           |
| 发热量     | 大                                                     | 小                                                           |
| 存储成本   | 高                                                     | 低                                                           |
| 可用性     | 高                                                     | 低                                                           |
| 适用场合   | 高速小容量存储器                                       | 大容量主存                                                   |

#### 4.9 什么叫刷新？为什么要刷新？说明刷新有几种方法。

刷新：对DRAM定期进行的全部重写过程

刷新原因：因电容泄露而引起的DRAM所存信息的衰减需要及时补充，因此安排了定期刷新操作；常用的刷新方法有三种：集中式、分散式、异步式。

集中式：在最新刷新间隔时间内，集中安排一段时间进行刷新，存在CPU访存死时间。

分散式：在每个读/写周期之后插入一个刷新周期，无CPU访问死时间。

异步式：是集中式和分散式的折衷。

#### 4.10 半导体存储芯片的译码驱动方式有几种？

半导体存储器芯片的译码驱动方式有两种：线选法和重合法。

线选法：地址译码信号只选中同一个字的所有位，结构简单，费器材。

重合法：地址分行、列两部分译码，行列译码线的交叉点即为所选单元。这种方式通过行、列译码信号的重合来选址，也称矩阵译码。可大大节省器材用量，是最常用的译码驱动方式。

#### 4.11 一个8Kx8位的动态RAM芯片，其内部结构排列成256X256形式，读/写周期为0.1us,试问采用集中刷新、分散刷新及分散刷新三种方式的刷新间隔各为多少？

 采用集中刷新方式刷新间隔为：2ms，其中刷新死时间为：256x0.1us=25.6us

采用分散刷新方式刷新间隔为：256x（0.1us+0.1us）=51.2us

采用异步刷新方式刷新间隔为：2ms

## 4.12 画出1024x4位的存储芯片组成一个容量为64Kx8位的存储器逻辑框图。要求将64K分成4个页面，每个页面分16组，共需要多少片存储芯片？

<img src="pic\微信图片_20230708213148.jpg" alt="微信图片_20230708213148" style="zoom:50%;" />



<img src="pic\微信图片_20230708214447.jpg" alt="微信图片_20230708214447" style="zoom:50%;" />





#### 4.13 设有一个64Kx8位的RAM芯片，试问该芯片共有多少个基本单元电路（简称存储单元）？欲设计一种具有上述同样多存储单元的芯片，要求对芯片字长的选择应满足地址线的总和为最小，试确定这种芯片的地址线和数据线，并说明有几种解答。

存储基元总数 = 64K x 8位 = 2^19位

如果要满足地址线和数据线总和最小，应尽量把存储元安排在字向，因为地址位数和字数成2的幂的关系，可以较好的压缩线数。

设地址线根数为a，数据线根数为b

则片容量为：2^a x b = 2^19; b = 2^(19-a)



#### 4.14 某8位微型计算机地址码为18位，若使用4K x 4位的RAM芯片组成模块结构的存储器，试问：（1）该机所允许的最大主存空间是多少？（2）若每个模块板为32K x 8位，共需几个模块板？（3）每个模块板内共有几片RAM芯片？（4）多少片RAM？（5）CPU如何选择各模块板？

（1）2^18 x 8位 = 256K x 8 位 = 256KB

(2)模块板总数 = 256K x 8 /32K x 8 位 = 8块

（3）板内片数 =  32K x 8 位 /4K x 4位 = 8x2 = 16片

（4）总片数 = 16片 x 8 = 128片

（5）CPU通过最高3位地址译码输出选择模板，次高3位地址译码输出选择芯片。地址格式分配如下：

模板号 3位

芯片号 3位（两片并联成一片）

片内地址 12位

#### 4.15 设CPU共有16根地址线，8根数据线，并用~MREQ（低电平有效）做访存控制信号，R/~W做读/写命令信号（高电平为读，低电平为写）。现有这些存储芯片：ROM(2K)